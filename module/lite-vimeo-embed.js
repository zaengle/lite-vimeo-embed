function t(t,e,o){const i=document.createElement("link");i.rel=t,i.href=e,o&&(i.as=o),i.crossorigin=!0,document.head.appendChild(i)}!function(t,e){void 0===e&&(e={});var o=e.insertAt;if("undefined"!=typeof document){var i=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css","top"===o&&i.firstChild?i.insertBefore(n,i.firstChild):i.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}}('lite-vimeo{font-size:10px;background-color:#000;position:relative;display:block;contain:content;background-position:50%;background-size:cover;cursor:pointer}lite-vimeo:after{content:"";display:block;padding-bottom:56.25%}lite-vimeo>iframe{width:100%;height:100%;position:absolute;top:0;left:0}lite-vimeo>.ltv-playbtn{width:6.5em;height:4em;background:rgba(23,35,34,.75);z-index:1;opacity:.8;border-radius:.5em;transition:all .2s cubic-bezier(0,0,.2,1);outline:0;border:0;cursor:pointer}lite-vimeo:hover>.ltv-playbtn{background-color:#00adef;opacity:1}lite-vimeo>.ltv-playbtn:before{content:"";border-color:transparent transparent transparent #fff;border-style:solid;border-width:10px 0 10px 20px}lite-vimeo>.ltv-playbtn,lite-vimeo>.ltv-playbtn:before{position:absolute;top:50%;left:50%;transform:translate3d(-50%,-50%,0)}lite-vimeo.ltv-activated{cursor:unset}lite-vimeo.ltv-activated:before,lite-vimeo.ltv-activated>.ltv-playbtn{opacity:0;pointer-events:none}');class e extends HTMLElement{constructor(){super()}async connectedCallback(){this.videoId=encodeURIComponent(this.getAttribute("videoid"));const t=await this.t();this.style.backgroundImage=`url("${t}")`;const o=document.createElement("button");o.type="button",o.classList.add("ltv-playbtn"),this.appendChild(o),this.addEventListener("pointerover",e.o,{once:!0}),this.addEventListener("click",()=>this.i())}async t(){let{width:t,height:e}=function({width:t,height:e}){let o=t,i=e;return o%320!=0&&(o=100*Math.ceil(t/100),i=Math.round(o/t*e)),{width:o,height:i}}(this.getBoundingClientRect());const o=window.devicePixelRatio||1;t*=o,e*=o;const i=`https://vimeo.com/api/v2/video/${this.videoId}.json`,n=(await(await fetch(i)).json())[0].thumbnail_large;let c=`https://i.vimeocdn.com/video/${n.substr(n.lastIndexOf("/")+1).split("_")[0]}`;var a;return c+=`.${a=document.createElement("canvas"),a.getContext&&a.getContext("2d")&&0===a.toDataURL("image/webp").indexOf("data:image/webp")?"webp":"jpg"}`,c+=`?mw=${t}&mh=${e}&q=${o>1?70:85}`,c}static o(){e.preconnected||(t("preconnect","https://player.vimeo.com"),t("preconnect","https://i.vimeocdn.com"),t("preconnect","https://f.vimeocdn.com"),t("preconnect","https://fresnel.vimeocdn.com"),e.preconnected=!0)}i(){const t=`\n<iframe width="640" height="360" frameborder="0"\n  allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen\n  src="https://player.vimeo.com/video/${this.videoId}?autoplay=1"\n></iframe>`;this.insertAdjacentHTML("beforeend",t),this.classList.add("ltv-activated")}}customElements.define("lite-vimeo",e);
//# sourceMappingURL=lite-vimeo-embed.js.map
