!function(e){"function"==typeof define&&define.amd?define(e):e()}((function(){"use strict";function e(t){return(e=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function t(e,n){return(t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,n)}function n(e,o,r){return(n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()?Reflect.construct:function(e,n,o){var r=[null];r.push.apply(r,n);var i=new(Function.bind.apply(e,r));return o&&t(i,o.prototype),i}).apply(null,arguments)}function o(r){var i="function"==typeof Map?new Map:void 0;return(o=function(o){if(null===o||(r=o,-1===Function.toString.call(r).indexOf("[native code]")))return o;var r;if("function"!=typeof o)throw new TypeError("Super expression must either be null or a function");if(void 0!==i){if(i.has(o))return i.get(o);i.set(o,c)}function c(){return n(o,arguments,e(this).constructor)}return c.prototype=Object.create(o.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),t(c,o)})(r)}function r(e,t,n){var o=document.createElement("link");o.rel=e,o.href=t,n&&(o.as=n),o.crossorigin=!0,document.head.appendChild(o)}function i(e){var t=e.width,n=e.height,o=t,r=n;return o%320!=0&&(o=100*Math.ceil(t/100),r=Math.round(o/t*n)),{width:o,height:r}}!function(e,t){void 0===t&&(t={});var n=t.insertAt;if("undefined"!=typeof document){var o=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css","top"===n&&o.firstChild?o.insertBefore(r,o.firstChild):o.appendChild(r),r.styleSheet?r.styleSheet.cssText=e:r.appendChild(document.createTextNode(e))}}('lite-vimeo{font-size:10px;background-color:#000;position:relative;display:block;contain:content;background-position:50%;background-size:cover;cursor:pointer}lite-vimeo:after{content:"";display:block;padding-bottom:56.25%}lite-vimeo>iframe{width:100%;height:100%;position:absolute;top:0;left:0}lite-vimeo>.ltv-playbtn{width:6.5em;height:4em;background:rgba(23,35,34,.75);z-index:1;opacity:.8;border-radius:.5em;transition:all .2s cubic-bezier(0,0,.2,1);outline:0;border:0;cursor:pointer}lite-vimeo:hover>.ltv-playbtn{background-color:#00adef;opacity:1}lite-vimeo>.ltv-playbtn:before{content:"";border-color:transparent transparent transparent #fff;border-style:solid;border-width:10px 0 10px 20px}lite-vimeo>.ltv-playbtn,lite-vimeo>.ltv-playbtn:before{position:absolute;top:50%;left:50%;transform:translate3d(-50%,-50%,0)}lite-vimeo.ltv-activated{cursor:unset}lite-vimeo.ltv-activated:before,lite-vimeo.ltv-activated>.ltv-playbtn{opacity:0;pointer-events:none}');var c=function(e){var t,n;function o(){return e.call(this)||this}n=e,(t=o).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var c=o.prototype;return c.connectedCallback=function(){var e,t,n=this;return regeneratorRuntime.async((function(r){for(;;)switch(r.prev=r.next){case 0:return this.videoId=encodeURIComponent(this.getAttribute("videoid")),r.next=3,regeneratorRuntime.awrap(this.t());case 3:e=r.sent,this.style.backgroundImage='url("'+e+'")',(t=document.createElement("button")).type="button",t.classList.add("ltv-playbtn"),this.appendChild(t),this.addEventListener("pointerover",o.o,{once:!0}),this.addEventListener("click",(function(){return n.i()}));case 11:case"end":return r.stop()}}),null,this)},c.t=function(){var e,t,n,o,r,c,u,a,l;return regeneratorRuntime.async((function(f){for(;;)switch(f.prev=f.next){case 0:return e=i(this.getBoundingClientRect()),t=e.width,n=e.height,o=window.devicePixelRatio||1,t*=o,n*=o,r="https://vimeo.com/api/v2/video/"+this.videoId+".json",f.t0=regeneratorRuntime,f.next=8,regeneratorRuntime.awrap(fetch(r));case 8:return f.t1=f.sent.json(),f.next=11,f.t0.awrap.call(f.t0,f.t1);case 11:return c=f.sent[0],u=c.thumbnail_large,a=u.substr(u.lastIndexOf("/")+1).split("_")[0],l="https://i.vimeocdn.com/video/"+a,l+="."+(s=void 0,(s=document.createElement("canvas")).getContext&&s.getContext("2d")&&0===s.toDataURL("image/webp").indexOf("data:image/webp")?"webp":"jpg"),l+="?mw="+t+"&mh="+n+"&q="+(o>1?70:85),f.abrupt("return",l);case 18:case"end":return f.stop()}var s}),null,this)},o.o=function(){o.preconnected||(r("preconnect","https://player.vimeo.com"),r("preconnect","https://i.vimeocdn.com"),r("preconnect","https://f.vimeocdn.com"),r("preconnect","https://fresnel.vimeocdn.com"),o.preconnected=!0)},c.i=function(){var e='\n<iframe width="640" height="360" frameborder="0"\n  allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen\n  src="https://player.vimeo.com/video/'+this.videoId+'?autoplay=1"\n></iframe>';this.insertAdjacentHTML("beforeend",e),this.classList.add("ltv-activated")},o}(o(HTMLElement));customElements.define("lite-vimeo",c)}));
//# sourceMappingURL=lite-vimeo-embed.js.map
