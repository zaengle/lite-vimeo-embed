!function(e){"function"==typeof define&&define.amd?define(e):e()}((function(){"use strict";function e(t){return(e=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(t)}function t(e,n){return(t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,n)}function n(e,r,o){return(n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}()?Reflect.construct:function(e,n,r){var o=[null];o.push.apply(o,n);var i=new(Function.bind.apply(e,o));return r&&t(i,r.prototype),i}).apply(null,arguments)}function r(o){var i="function"==typeof Map?new Map:void 0;return(r=function(r){if(null===r||(o=r,-1===Function.toString.call(o).indexOf("[native code]")))return r;var o;if("function"!=typeof r)throw new TypeError("Super expression must either be null or a function");if(void 0!==i){if(i.has(r))return i.get(r);i.set(r,c)}function c(){return n(r,arguments,e(this).constructor)}return c.prototype=Object.create(r.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),t(c,r)})(o)}function o(e,t,n){var r=document.createElement("link");r.rel=e,r.href=t,n&&(r.as=n),r.crossorigin=!0,document.head.appendChild(r)}function i(e){var t=e.width,n=e.height,r=t,o=n;return r%320!=0&&(r=100*Math.ceil(t/100),o=Math.round(r/t*n)),{width:r,height:o}}!function(e,t){void 0===t&&(t={});var n=t.insertAt;if("undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===n&&r.firstChild?r.insertBefore(o,r.firstChild):r.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}('lite-vimeo{font-size:10px;background-color:#000;position:relative;display:block;contain:content;background-position:50%;background-size:cover;cursor:pointer}lite-vimeo:after{content:"";display:block;padding-bottom:56.25%}lite-vimeo>iframe{width:100%;height:100%;position:absolute;top:0;left:0}lite-vimeo>.ltv-playbtn{width:6.5em;height:4em;background:rgba(23,35,34,.75);z-index:1;opacity:.8;border-radius:.5em;transition:all .2s cubic-bezier(0,0,.2,1);outline:0;border:0;cursor:pointer}lite-vimeo:hover>.ltv-playbtn{background-color:#00adef;opacity:1}lite-vimeo>.ltv-playbtn:before{content:"";border-color:transparent transparent transparent #fff;border-style:solid;border-width:10px 0 10px 20px}lite-vimeo>.ltv-playbtn,lite-vimeo>.ltv-playbtn:before{position:absolute;top:50%;left:50%;transform:translate3d(-50%,-50%,0)}lite-vimeo.ltv-activated{cursor:unset}lite-vimeo.ltv-activated:before,lite-vimeo.ltv-activated>.ltv-playbtn{opacity:0;pointer-events:none}');var c=function(e){var t,n;function r(){return e.call(this)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var c=r.prototype;return c.connectedCallback=function(){var e,t,n=this;return regeneratorRuntime.async((function(o){for(;;)switch(o.prev=o.next){case 0:if(this.videoId=encodeURIComponent(this.getAttribute("videoid")),this.style.backgroundImage){o.next=6;break}return o.next=4,regeneratorRuntime.awrap(this.t());case 4:e=o.sent,this.style.backgroundImage='url("'+e+'")';case 6:(t=document.createElement("button")).type="button",t.classList.add("ltv-playbtn"),this.appendChild(t),this.addEventListener("pointerover",r.o,{once:!0}),this.addEventListener("click",(function(){return n.i()}));case 12:case"end":return o.stop()}}),null,this)},c.t=function(){var e,t,n,r,o,c,u,a,l;return regeneratorRuntime.async((function(s){for(;;)switch(s.prev=s.next){case 0:return e=i(this.getBoundingClientRect()),t=e.width,n=e.height,r=window.devicePixelRatio||1,t*=r,n*=r,o="https://vimeo.com/api/v2/video/"+this.videoId+".json",s.t0=regeneratorRuntime,s.next=8,regeneratorRuntime.awrap(fetch(o));case 8:return s.t1=s.sent.json(),s.next=11,s.t0.awrap.call(s.t0,s.t1);case 11:return c=s.sent[0],u=c.thumbnail_large,a=u.substr(u.lastIndexOf("/")+1).split("_")[0],l="https://i.vimeocdn.com/video/"+a,l+="."+(f=void 0,(f=document.createElement("canvas")).getContext&&f.getContext("2d")&&0===f.toDataURL("image/webp").indexOf("data:image/webp")?"webp":"jpg"),l+="?mw="+t+"&mh="+n+"&q="+(r>1?70:85),s.abrupt("return",l);case 18:case"end":return s.stop()}var f}),null,this)},r.o=function(){r.preconnected||(o("preconnect","https://player.vimeo.com"),o("preconnect","https://i.vimeocdn.com"),o("preconnect","https://f.vimeocdn.com"),o("preconnect","https://fresnel.vimeocdn.com"),r.preconnected=!0)},c.i=function(){var e='\n<iframe width="640" height="360" frameborder="0"\n  allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen\n  src="https://player.vimeo.com/video/'+this.videoId+'?autoplay=1"\n></iframe>';this.insertAdjacentHTML("beforeend",e),this.classList.add("ltv-activated")},r}(r(HTMLElement));customElements.define("lite-vimeo",c)}));
//# sourceMappingURL=lite-vimeo-embed.js.map
